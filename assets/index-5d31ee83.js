var b=Object.defineProperty;var A=(o,t,e)=>t in o?b(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var n=(o,t,e)=>(A(o,typeof t!="symbol"?t+"":t,e),e);import{p as G}from"./phaser-f8c8a439.js";import{c as S,_ as k}from"./supabase-2481e69c.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=e(i);fetch(i.href,r)}})();class E extends G.Scene{constructor(){super({key:"BootScene"})}preload(){console.log("üîß BootScene: Starting asset loading..."),this.createLoadingUI(),this.load.image("bottle","data:image/svg+xml;base64,"+btoa(`
      <svg width="20" height="40" xmlns="http://www.w3.org/2000/svg">
        <rect width="20" height="40" fill="#8B4513" stroke="#654321" stroke-width="2"/>
        <rect x="5" y="5" width="10" height="30" fill="#A0522D"/>
      </svg>
    `)),this.load.image("bottle_green","data:image/svg+xml;base64,"+btoa(`
      <svg width="20" height="40" xmlns="http://www.w3.org/2000/svg">
        <rect width="20" height="40" fill="#228B22" stroke="#006400" stroke-width="2"/>
        <rect x="5" y="5" width="10" height="30" fill="#32CD32"/>
        <text x="10" y="25" text-anchor="middle" fill="white" font-size="10">X</text>
      </svg>
    `)),this.load.image("powerup_star","data:image/svg+xml;base64,"+btoa(`
      <svg width="30" height="30" xmlns="http://www.w3.org/2000/svg">
        <polygon points="15,2 18,10 27,10 20,16 23,25 15,20 7,25 10,16 3,10 12,10"
                 fill="#FFD700" stroke="#FFA500" stroke-width="2"/>
        <circle cx="15" cy="15" r="3" fill="#FFFF00"/>
      </svg>
    `)),this.load.image("bucket","data:image/svg+xml;base64,"+btoa(`
      <svg width="80" height="60" xmlns="http://www.w3.org/2000/svg">
        <path d="M10,20 L70,20 L65,55 L15,55 Z" fill="#888888" stroke="#666666" stroke-width="2"/>
        <rect x="10" y="15" width="60" height="10" fill="#AAAAAA"/>
      </svg>
    `)),this.load.image("background","data:image/svg+xml;base64,"+btoa(`
      <svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="skyGradient" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:#87CEEB;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#E0F6FF;stop-opacity:1" />
          </linearGradient>
        </defs>
        <rect width="800" height="600" fill="url(#skyGradient)"/>
      </svg>
    `))}create(){console.log("‚úÖ BootScene: Assets loaded, transitioning to GameScene"),this.cameras.main.fadeOut(300,0,0,0),this.cameras.main.once("camerafadeoutcomplete",()=>{this.scene.start("GameScene")})}createLoadingUI(){const{width:t,height:e}=this.cameras.main,s=this.add.text(t/2,e/2-50,"Loading...",{fontSize:"32px",color:"#ffffff",fontFamily:"Arial"}).setOrigin(.5),i=this.add.graphics();i.fillStyle(0,.3),i.fillRect(t/2-150,e/2,300,20);const r=this.add.graphics();this.load.on("progress",a=>{r.clear(),r.fillStyle(65280),r.fillRect(t/2-150,e/2,300*a,20)}),this.load.on("complete",()=>{s.setText("Ready!"),r.clear(),i.clear()})}}class L extends G.Scene{constructor(){super({key:"GameScene"});n(this,"bucket");n(this,"bottles");n(this,"powerups");n(this,"score",0);n(this,"lives",3);n(this,"timeLeft",60);n(this,"scoreText");n(this,"livesText");n(this,"timerText");n(this,"powerupText");n(this,"spawnTimer");n(this,"powerupTimer");n(this,"gameTimer");n(this,"allGoodTimer");n(this,"gameStarted",!1);n(this,"gameOver",!1);n(this,"allGoodMode",!1);n(this,"allGoodTimeLeft",0);n(this,"gameOverTexts",[])}create(){console.log("üéÆ GameScene: Initializing game...");const{width:e,height:s}=this.cameras.main;this.add.image(e/2,s/2,"background"),this.setupUI(),this.setupGameObjects(),this.setupInput(),this.setupCollisions(),this.cameras.main.fadeIn(300,0,0,0),console.log("‚úÖ GameScene: Ready to play!")}setupUI(){const{width:e,height:s}=this.cameras.main;this.scoreText=this.add.text(16,16,"Score: 0",{fontSize:"24px",color:"#000000",fontFamily:"Arial"}),this.livesText=this.add.text(16,50,"Lives: ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è",{fontSize:"20px",color:"#000000",fontFamily:"Arial"}),this.timerText=this.add.text(e/2,16,"Time: 60s",{fontSize:"24px",color:"#000000",fontFamily:"Arial"}).setOrigin(.5),this.powerupText=this.add.text(e-150,16,"",{fontSize:"18px",color:"#FFD700",fontFamily:"Arial"}),this.add.text(e/2,s*.12,"Use arrow keys or drag to move the bucket!",{fontSize:Math.min(18,e*.025)+"px",color:"#000000",fontFamily:"Arial"}).setOrigin(.5),this.add.text(e/2,s*.16,"üç∂ Catch brown bottles: +1pt | üü¢ Avoid green bottles: -1 life | ‚≠ê Star: All Good!",{fontSize:Math.min(14,e*.018)+"px",color:"#333333",fontFamily:"Arial"}).setOrigin(.5)}setupGameObjects(){const{width:e,height:s}=this.cameras.main;this.bucket=this.physics.add.image(e/2,s-80,"bucket"),this.bucket.setCollideWorldBounds(!0),this.bucket.setImmovable(!0),this.bottles=this.physics.add.group({defaultKey:"bottle",maxSize:15}),this.powerups=this.physics.add.group({defaultKey:"powerup_star",maxSize:3})}setupInput(){var e;(e=this.input.keyboard)==null||e.createCursorKeys(),this.input.on("pointermove",s=>{if(s.isDown){const{width:i}=this.cameras.main,r=Math.max(40,i*.05);this.bucket.x=Phaser.Math.Clamp(s.x,r,i-r)}}),this.input.on("pointerdown",()=>{this.gameOver||this.startGame()})}setupCollisions(){this.physics.add.overlap(this.bucket,this.bottles,this.catchBottle,void 0,this),this.physics.add.overlap(this.bucket,this.powerups,this.catchPowerup,void 0,this)}startGame(){this.gameStarted||(this.gameOverTexts.forEach(e=>e.destroy()),this.gameOverTexts=[],this.lives=3,this.score=0,this.timeLeft=60,this.gameOver=!1,this.allGoodMode=!1,this.allGoodTimeLeft=0,this.updateLivesDisplay(),this.scoreText.setText(`Score: ${this.score}`),this.timerText.setText(`Time: ${this.timeLeft}s`),this.powerupText.setText(""),this.gameStarted=!0,console.log("üöÄ GAME START DEBUG (RESET):"),console.log(`üíó Starting Lives: ${this.lives}`),console.log(`üéØ Starting Score: ${this.score}`),console.log(`‚è∞ Starting Time: ${this.timeLeft}s`),console.log(`‚≠ê All Good Mode: ${this.allGoodMode}`),this.spawnTimer=this.time.addEvent({delay:1e3,callback:this.spawnBottle,callbackScope:this,loop:!0}),this.scheduleNextPowerup(),this.gameTimer=this.time.addEvent({delay:1e3,callback:this.updateTimer,callbackScope:this,loop:!0}))}spawnBottle(){if(this.gameOver)return;const{width:e}=this.cameras.main,s=60,i=e-60,r=Phaser.Math.Between(s,i),a=Math.random()<.2,c=this.bottles.get(r,-50,"bottle");c&&(c.setActive(!0),c.setVisible(!0),a?(c.setTexture("bottle_green"),console.log(`üü¢ GREEN bottle spawned at x:${r}`)):(c.setTexture("bottle"),console.log(`üç∂ BROWN bottle spawned at x:${r}`)),c.body.velocity.y=200,c.body.velocity.x=Phaser.Math.Between(-50,50),c.body.setCollideWorldBounds(!0),c.body.setBounce(0),c.setData("checkGround",!0),c.setData("isGreen",a))}scheduleNextPowerup(){if(this.gameOver)return;const e=5e3,s=3e4,i=Math.random(),r=Math.pow(i,1.5),a=e+(s-e)*r;console.log(`‚≠ê Next power-up scheduled in ${(a/1e3).toFixed(1)}s`),this.powerupTimer=this.time.addEvent({delay:a,callback:()=>{this.spawnPowerup(),this.scheduleNextPowerup()},callbackScope:this})}spawnPowerup(){if(this.gameOver)return;const{width:e}=this.cameras.main,s=80,i=e-80,r=Phaser.Math.Between(s,i),a=this.powerups.get(r,-30,"powerup_star");if(a){a.setActive(!0),a.setVisible(!0);const c=Phaser.Math.Between(120,180),l=Phaser.Math.Between(-30,30);a.body.velocity.y=c,a.body.velocity.x=l,a.body.setCollideWorldBounds(!0),a.body.setBounce(0),a.setData("checkGround",!0),console.log(`‚≠ê Power-up spawned at x:${r} with velocity(${l}, ${c})`)}}catchBottle(e,s){if(!s.active)return;const i=s.getData("isGreen");console.log("üéØ BOTTLE CATCH DEBUG:"),console.log(`üç∂ Bottle type: ${i?"GREEN (poison)":"BROWN (normal)"}`),console.log(`‚≠ê All Good Mode: ${this.allGoodMode}`),console.log(`üíó Lives before catch: ${this.lives}`),this.bottles.killAndHide(s),s.setActive(!1),s.setVisible(!1),i&&!this.allGoodMode?(console.log("üö® GREEN BOTTLE CAUGHT WITHOUT ALL GOOD - LOSING LIFE!"),this.loseLife()):(this.score+=1,this.scoreText.setText(`Score: ${this.score}`),console.log(`‚úÖ ${i?"Green bottle (All Good active)":"Brown bottle"} caught! +1 point. Score: ${this.score}`))}catchPowerup(e,s){s.active&&(console.log("‚≠ê POWERUP CATCH DEBUG:"),console.log(`üíó Lives before powerup: ${this.lives}`),this.powerups.killAndHide(s),s.setActive(!1),s.setVisible(!1),this.activateAllGoodMode(),console.log(`‚úÖ Power-up caught! All Good mode activated! Lives unchanged: ${this.lives}`))}loseLife(){if(this.gameOver)return;const e=new Error().stack;console.warn("üö® LIFE LOST DEBUG:"),console.warn(`üíî Lives before: ${this.lives}`),console.warn("üîç Called from:",e==null?void 0:e.split(`
`).slice(1,4)),console.warn(`‚≠ê All Good Mode: ${this.allGoodMode}`),this.lives-=1,this.updateLivesDisplay(),console.warn(`üíî Lives after: ${this.lives}`),this.lives<=0&&(console.warn("‚ò†Ô∏è GAME OVER - No lives remaining"),this.endGame())}updateLivesDisplay(){const e="‚ù§Ô∏è".repeat(this.lives);this.livesText.setText(`Lives: ${e}`)}updateTimer(){this.gameOver||(this.timeLeft-=1,this.timerText.setText(`Time: ${this.timeLeft}s`),this.timeLeft<=0&&this.endGame())}activateAllGoodMode(){this.allGoodMode=!0,this.allGoodTimeLeft=10,this.powerupText.setText(`‚≠ê ALL GOOD: ${this.allGoodTimeLeft}s`),this.allGoodTimer&&this.allGoodTimer.destroy(),this.allGoodTimer=this.time.addEvent({delay:1e3,callback:this.updateAllGoodMode,callbackScope:this,loop:!0})}updateAllGoodMode(){this.allGoodMode&&(this.allGoodTimeLeft-=1,this.powerupText.setText(`‚≠ê ALL GOOD: ${this.allGoodTimeLeft}s`),this.allGoodTimeLeft<=0&&this.deactivateAllGoodMode())}deactivateAllGoodMode(){this.allGoodMode=!1,this.allGoodTimeLeft=0,this.powerupText.setText(""),this.allGoodTimer&&this.allGoodTimer.destroy(),console.log("‚≠ê All Good mode deactivated")}endGame(){this.gameOver=!0,this.gameStarted=!1,this.spawnTimer&&this.spawnTimer.destroy(),this.powerupTimer&&this.powerupTimer.destroy(),this.gameTimer&&this.gameTimer.destroy(),this.allGoodTimer&&this.allGoodTimer.destroy(),this.deactivateAllGoodMode();const{width:e,height:s}=this.cameras.main,i=this.add.text(e/2,s/2,"GAME OVER!",{fontSize:Math.min(48,e*.06)+"px",color:"#ff0000",fontFamily:"Arial"}).setOrigin(.5),r=this.add.text(e/2,s/2+50,`Final Score: ${this.score}`,{fontSize:Math.min(24,e*.03)+"px",color:"#000000",fontFamily:"Arial"}).setOrigin(.5),a=this.add.text(e/2,s/2+100,'Click "New Game" to restart',{fontSize:Math.min(18,e*.025)+"px",color:"#666666",fontFamily:"Arial"}).setOrigin(.5);this.gameOverTexts.push(i,r,a),console.log(`üéÆ Game Over! Final Score: ${this.score}`)}update(){var r,a,c;if(this.gameOver)return;const{width:e,height:s}=this.cameras.main,i=(r=this.input.keyboard)==null?void 0:r.createCursorKeys();if(i){const l=Math.max(40,e*.05),g=Math.max(5,e*.006);(a=i.left)!=null&&a.isDown?this.bucket.x=Math.max(l,this.bucket.x-g):(c=i.right)!=null&&c.isDown&&(this.bucket.x=Math.min(e-l,this.bucket.x+g))}this.bottles.children.entries.forEach(l=>{if(l.active&&l.getData("checkGround")&&l.y>=s-20){const g=l.getData("isGreen");console.log(`üåç GROUND HIT: ${g?"GREEN":"BROWN"} bottle hit ground - NO LIFE LOSS`),this.bottles.killAndHide(l),l.setActive(!1),l.setVisible(!1)}}),this.powerups.children.entries.forEach(l=>{l.active&&l.getData("checkGround")&&l.y>=s-20&&(this.powerups.killAndHide(l),l.setActive(!1),l.setVisible(!1))}),!this.gameStarted&&!this.gameOver&&this.time.now>3e3&&this.startGame()}shutdown(){this.spawnTimer&&this.spawnTimer.destroy(),this.powerupTimer&&this.powerupTimer.destroy(),this.gameTimer&&this.gameTimer.destroy(),this.allGoodTimer&&this.allGoodTimer.destroy()}}const O={type:Phaser.AUTO,width:800,height:600,parent:"game-container",backgroundColor:"#87CEEB",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,min:{width:300,height:400},max:{width:1200,height:900}},physics:{default:"arcade",arcade:{gravity:{x:0,y:300},debug:!1}},scene:[E,L]};let d=null;function P(){return d&&d.destroy(!0),d=new G.Game(O),d}function T(){return d}function M(){d&&(d.destroy(!0),d=null)}const v=void 0,x=void 0;console.log("üîç Environment check:",{url:"MISSING",key:"MISSING",env:{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,VITE_SUPABASE_URL:void 0,VITE_SUPABASE_ANON_KEY:void 0,VITE_ADMIN_UUIDS:void 0}});throw console.error("‚ùå Missing env vars:",{supabaseUrl:v,supabaseAnonKey:x}),new Error(`Missing Supabase environment variables: URL=${!!v}, KEY=${!!x}`);const h=S(v,x,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),p={async getProfile(o){try{const{data:t,error:e}=await h.from("profiles").select("*").eq("id",o).maybeSingle();return e?(console.error("Error fetching profile:",e),null):t}catch(t){return console.error("Profile fetch exception:",t),null}},async createProfile(o){try{const{data:t,error:e}=await h.from("profiles").upsert(o,{onConflict:"id",ignoreDuplicates:!1}).select().single();return e?(console.error("Error creating profile:",e),null):t}catch(t){return console.error("Profile creation exception:",t),null}},async updateProfile(o,t){try{const{data:e,error:s}=await h.from("profiles").update(t).eq("id",o).select().single();return s?(console.error("Error updating profile:",s),null):e}catch(e){return console.error("Profile update exception:",e),null}},async checkNicknameAvailability(o,t){try{if(!o||o.trim().length===0)return!0;const e=h.from("profiles").select("id").eq("nickname",o.trim());t&&e.neq("id",t);const{data:s,error:i}=await e;return i?(console.error("Error checking nickname availability:",i),!1):s.length===0}catch(e){return console.error("Nickname availability check exception:",e),!1}}};class D{constructor(){n(this,"state",{user:null,profile:null,session:null,isLoading:!0,isAuthenticated:!1,hasMarketingConsent:!1});n(this,"listeners",[]);n(this,"isProcessingAuth",!1);this.initializeAuth(),this.setupAuthListeners()}async initializeAuth(){try{console.log("üîÑ Initializing auth...");const t=h.auth.getSession(),e=new Promise((r,a)=>setTimeout(()=>a(new Error("Session timeout")),5e3)),{data:{session:s},error:i}=await Promise.race([t,e]);i&&console.error("Error getting session:",i),s?(console.log("‚úÖ Session found, processing auth..."),await this.handleAuthChange(s)):console.log("‚ÑπÔ∏è No active session")}catch(t){console.error("Auth initialization error:",t)}finally{this.state.isLoading=!1,this.notifyListeners(),console.log("‚úÖ Auth initialization complete")}}setupAuthListeners(){h.auth.onAuthStateChange(async(t,e)=>{switch(console.log("üîÑ Auth state change:",t),t){case"SIGNED_IN":e&&await this.handleAuthChange(e);break;case"SIGNED_OUT":this.resetAuthState();break;case"TOKEN_REFRESHED":e&&(this.state.session=e,this.state.user=e.user);break}this.notifyListeners()})}async handleAuthChange(t){var e,s;if(this.isProcessingAuth){console.log("‚è≥ Already processing auth, skipping...");return}this.isProcessingAuth=!0;try{console.log("üë§ Processing auth for user:",t.user.email),this.state.session=t,this.state.user=t.user,this.state.isAuthenticated=!0;let i=await p.getProfile(t.user.id);i||(console.log("üìù Creating new profile..."),i=await p.createProfile({email:t.user.email||"",nickname:((e=t.user.user_metadata)==null?void 0:e.name)||((s=t.user.user_metadata)==null?void 0:s.full_name)||null,consent_marketing:!1,consent_timestamp:null})),this.state.profile=i,this.state.hasMarketingConsent=(i==null?void 0:i.consent_marketing)||!1,console.log("‚úÖ Auth processing complete:",{email:t.user.email,hasProfile:!!i,hasConsent:this.state.hasMarketingConsent})}catch(i){console.error("‚ùå Error processing auth:",i)}finally{this.state.isLoading=!1,this.isProcessingAuth=!1}}resetAuthState(){this.state={user:null,profile:null,session:null,isLoading:!1,isAuthenticated:!1,hasMarketingConsent:!1}}notifyListeners(){this.listeners.forEach(t=>{try{t(this.state)}catch(e){console.error("Error in auth listener:",e)}})}subscribe(t){return this.listeners.push(t),t(this.state),()=>{const e=this.listeners.indexOf(t);e>-1&&this.listeners.splice(e,1)}}getState(){return{...this.state}}isReady(){return!this.state.isLoading}canPlayGame(){return this.state.isAuthenticated}canCompeteForPrizes(){return this.state.isAuthenticated&&this.state.hasMarketingConsent}async signInWithGoogle(){try{const{error:t}=await h.auth.signInWithOAuth({provider:"google"});return t?(console.error("Google sign in error:",t),{success:!1,error:t.message}):{success:!0}}catch(t){return console.error("Google sign in exception:",t),{success:!1,error:"Unexpected error during sign in"}}}async signInWithOTP(t){try{const{error:e}=await h.auth.signInWithOtp({email:t});return e?(console.error("OTP sign in error:",e),{success:!1,error:e.message}):{success:!0}}catch(e){return console.error("OTP sign in exception:",e),{success:!1,error:"Unexpected error during sign in"}}}async verifyOTP(t,e){try{const{error:s}=await h.auth.verifyOtp({email:t,token:e,type:"email"});return s?(console.error("OTP verification error:",s),{success:!1,error:s.message}):{success:!0}}catch(s){return console.error("OTP verification exception:",s),{success:!1,error:"Unexpected error during verification"}}}async signOut(){try{const{error:t}=await h.auth.signOut();if(t)throw t}catch(t){throw console.error("Sign out error:",t),t}}async updateProfile(t){if(!this.state.user)throw new Error("No authenticated user");try{const e=await p.updateProfile(this.state.user.id,t);return e&&(this.state.profile=e,"consent_marketing"in t&&(this.state.hasMarketingConsent=e.consent_marketing),this.notifyListeners()),e}catch(e){throw console.error("Profile update error:",e),e}}async refreshProfile(){if(this.state.user)try{const t=await p.getProfile(this.state.user.id);t&&(this.state.profile=t,this.state.hasMarketingConsent=t.consent_marketing,this.notifyListeners())}catch(t){console.error("Profile refresh error:",t)}}destroy(){this.listeners=[]}}const u=new D,C=async()=>{if(console.log("üéÆ Checking auth for game access..."),u.canPlayGame())return console.log("‚úÖ User can play!"),!0;if(u.isReady()||(console.log("‚è≥ Waiting for auth to initialize..."),await new Promise(t=>{const e=u.subscribe(s=>{s.isLoading||(e(),t())})})),!u.canPlayGame())return console.log("üîê Showing auth modal..."),new Promise(t=>{k(()=>import("./AuthModal-816ea8b3.js"),["assets/AuthModal-816ea8b3.js","assets/phaser-f8c8a439.js","assets/supabase-2481e69c.js"]).then(({AuthModal:e})=>{const s=new e;s.onAuth(i=>{s.destroy(),t(i&&u.canPlayGame())}),s.show()}).catch(e=>{console.error("Failed to load AuthModal:",e),t(!1)})});const o=u.canPlayGame();return console.log("üéØ Final auth check result:",o),o};let y=!1;window.startNewGame=async function(){if(console.log("üéÆ Starting new game..."),!await C()){console.log("‚ùå User not authenticated, game start cancelled");return}console.log("‚úÖ User authenticated, starting game..."),T()&&(console.log("üîÑ Destroying existing game instance"),M()),P()};window.togglePause=function(){const o=T();o&&(y=!y,y?(o.scene.pause("GameScene"),document.querySelector(".btn:nth-child(2)").textContent="‚ñ∂Ô∏è Resume",console.log("‚è∏Ô∏è Game paused")):(o.scene.resume("GameScene"),document.querySelector(".btn:nth-child(2)").textContent="‚è∏Ô∏è Pause",console.log("‚ñ∂Ô∏è Game resumed")))};window.showInstructions=function(){alert(`üéÆ How to Play:

üéØ Objective: Catch falling bottles with your bucket!

üïπÔ∏è Controls:
‚Ä¢ Use ‚Üê ‚Üí arrow keys to move
‚Ä¢ Or click and drag with mouse/touch
‚Ä¢ On mobile: Use touch controls at bottom

üç∂ Game Rules:
‚Ä¢ Brown bottles: +1 point each
‚Ä¢ Green bottles: Lose 1 life (unless All Good mode)
‚Ä¢ ‚≠ê Star power-ups: Activate All Good mode
‚Ä¢ üíó You have 3 lives
‚Ä¢ ‚è∞ 60 seconds to play

üèÜ Tips:
‚Ä¢ Catch star power-ups to avoid green bottle damage
‚Ä¢ All Good mode makes green bottles worth +1 point
‚Ä¢ Try to get the highest score possible!

Good luck! üéÆ`)};window.testAuth=function(){console.log("üß™ Testing auth flow..."),alert(`üîê Auth System Demo

üì± AuthModal Features:
‚úÖ Google OAuth integration
‚úÖ Email OTP verification
‚úÖ Multi-step flow (Welcome ‚Üí Email ‚Üí Verify ‚Üí Profile)
‚úÖ Marketing consent handling
‚úÖ Nickname setup
‚úÖ Mobile responsive design
‚úÖ Glassmorphism UI

üéÆ Integration:
‚úÖ Game requires auth before play
‚úÖ Profile management
‚úÖ Score submission ready

The Auth system is 98% complete and ready for production testing!

Click "New Game" to see auth requirement in action.`)};let w=null,m=!1,f=!1;function B(){if(w=T(),!w)return;const o=w.scene.getScene("GameScene");if(o){if(m&&o.bucket){const{width:t}=o.cameras.main,e=Math.max(40,t*.05),s=Math.max(5,t*.006);o.bucket.x=Math.max(e,o.bucket.x-s)}if(f&&o.bucket){const{width:t}=o.cameras.main,e=Math.max(40,t*.05),s=Math.max(5,t*.006);o.bucket.x=Math.min(t-e,o.bucket.x+s)}}}document.addEventListener("DOMContentLoaded",function(){console.log("üöÄ Etimu√® Bottle Dropper v2.0.0 loaded!");const o=document.getElementById("touch-left"),t=document.getElementById("touch-right");o&&t&&(o.addEventListener("touchstart",e=>{e.preventDefault(),m=!0}),o.addEventListener("touchend",e=>{e.preventDefault(),m=!1}),o.addEventListener("mousedown",e=>{e.preventDefault(),m=!0}),o.addEventListener("mouseup",e=>{e.preventDefault(),m=!1}),t.addEventListener("touchstart",e=>{e.preventDefault(),f=!0}),t.addEventListener("touchend",e=>{e.preventDefault(),f=!1}),t.addEventListener("mousedown",e=>{e.preventDefault(),f=!0}),t.addEventListener("mouseup",e=>{e.preventDefault(),f=!1}),setInterval(B,16))});export{u as a};
//# sourceMappingURL=index-5d31ee83.js.map
